---
import NeonBox from "./atoms/NeonBox.astro";
import ArticleCard from "./cards/ArticleCard.astro";
import { getColorByCategory, getPostUrl } from "../lib/blog";

export interface Props {
  posts: any[];
  class?: string;
  gridColor?: "pink" | "yellow" | "cyan" | "purple";
}

const { posts, class: className = "", gridColor = "cyan" } = Astro.props;
---

<NeonBox borderClass={{ mobile: [1, 0, 1, 0], desktop: [1, 0, 1, 0] }}>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 md:p-12">
    {
      posts.map((post, index) => {
        const isFirst = index === 0;
        const isLast = index === posts.length - 1;

        return (
          <ArticleCard
            title={post.data.title}
            tags={post.data.tags || []}
            color={getColorByCategory(post.data.category || "")}
            description={post.data.readingTime}
            slug={getPostUrl(post.slug)}
            category={post.data.category || ""}
            id={post.slug}
            titleSize={isFirst ? "text-2xl md:text-4xl" : "text-lg md:text-xl"}
            class={isFirst ? "md:col-span-2 lg:col-span-2" : ""}
          />
        );
      })
    }
  </div>
</NeonBox>
