---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import NeonBox from "../components/atoms/NeonBox.astro";
import Gradients from "../components/skeleton/Gradients.astro";
import Wrapper from "../components/skeleton/Wrapper.astro";
import ArticleCard from "../components/cards/ArticleCard.astro";
import { getLatestPost, getColorByCategory, getPostUrl } from "../lib/blog";
import { Image } from "astro:assets";
import andresMacbook from "../assets/images/andres-macbook.jpg";
import andresGuitarra from "../assets/images/andres-guitarra.jpeg";
import NeonLink from "../components/atoms/NeonLink.astro";
// Obtener el artículo más reciente del blog con tiempo de lectura calculado automáticamente
const latestPost = await getLatestPost();
---

<BaseLayout
  title="Andrés Ignacio Maldonado | Tech Lead • AI • Música"
  description="Tech Lead, consultor en Gen AI y automación, creador de contenido y músico profesional. Creo en la tecnología como motor creativo y en el arte como fuerza"
>
  <Wrapper>
    <NeonBox class="max-w-6xl mx-auto">
      <!-- Hero section -->
      <div class="p-6 md:p-12">
        <Hero />
      </div>

      <!-- About section -->
      <NeonBox borderClass={{ mobile: [1, 0, 1, 0], desktop: [1, 0, 1, 0] }}>
        <div class="grid grid-cols-1 md:grid-cols-2">
          <div class="p-12">
            <div class="md:p-12 flex items-center justify-center h-full">
              <p
                class="text-lg md:text-xl lg:text-2xl text-gray-300 font-mono tracking-wide"
              >
                Tech Lead, consultor en Gen AI y automación, creador de
                contenido y músico profesional. Creo en la tecnología como motor
                creativo y en el arte como fuerza.
              </p>
            </div>
          </div>
          <NeonBox
            class=""
            borderClass={{ mobile: [1, 0, 0, 0], desktop: [0, 0, 0, 1] }}
          >
            <div class="relative h-full">
              <h2
                class="text-3xl font-bold mb-4 font-mono absolute top-6 left-15 z-10"
              >
                ABOUT
              </h2>
              <Gradients ltrbtu={false} />
              <div class="relative w-full h-full overflow-hidden rounded-lg">
                <figure>
                  <Image
                    src={andresMacbook}
                    alt="Andrés Ignacio Maldonado"
                    width={800}
                    height={800}
                    class="rounded-lg absolute inset-0 w-full h-full object-cover"
                    loading="lazy"
                    decoding="async"
                  />
                </figure>
                <!-- Contenido encima de la imagen -->
                <div class="relative z-10 h-full text-white min-h-64">
                  <div class="absolute bottom-6 left-6">
                    <NeonLink href="/hub" label="Sobre mí" />
                  </div>
                </div>
              </div>
            </div>
          </NeonBox>
        </div>
      </NeonBox>

      <!-- Music section -->
      <div>
        <div class="pt-12 pb-6 px-6 md:px-12 md:pb-12">
          <h2 class="text-3xl font-bold font-mono pb-6">CREATIVIDAD</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <div class="">
              <div>
                <NeonBox
                  class="md:rounded-br-lg"
                  borderClass={{ mobile: [0, 0, 1, 0], desktop: [0, 1, 1, 0] }}
                >
                  <figure class="font-0 -mx-6 md:mx-0">
                    <Image
                      src={andresGuitarra}
                      alt="Andrés Ignacio Maldonado"
                      width={900}
                      height={600}
                      class="font-0 md:rounded-tr-lg md:rounded-tl-lg"
                      loading="lazy"
                      decoding="async"
                    />
                  </figure>
                  <div class="md:px-4 py-6 grid gap-4">
                    <NeonLink
                      href="/hub"
                      label="@devandmus - RRSS"
                      color="cyan"
                    />
                    <NeonLink
                      href="https://tiktok.com/@devandmus"
                      label="Guitar Licks - TikTok"
                      color="pink"
                    />
                    <NeonLink
                      href="/hub"
                      label="One Lick a Day - YouTube"
                      color="purple"
                    />
                  </div>
                </NeonBox>
              </div>
            </div>

            <div>
              <div class="pb-6">
                <NeonLink href="/blog" transitionName="blog-page">
                  <h3
                    class="text-lg font-bold text-base-light flex items-center justify-center gap-3"
                  >
                    BLOG & ARTÍCULOS
                  </h3>
                  <p class="text-base-grey text-sm">
                    AI • Dev • Música • Liderazgo
                  </p>
                </NeonLink>
              </div>

              {
                latestPost && (
                  <ArticleCard
                    title={latestPost.data.title}
                    id={latestPost.slug}
                    titleSize="text-2xl md:text-3xl"
                    tags={latestPost.data.tags || []}
                    color={getColorByCategory(latestPost.data.category || "")}
                    readTime={latestPost.data.readingTime}
                    url={getPostUrl(latestPost.slug)}
                    category={latestPost.data.category || ""}
                  />
                )
              }
            </div>
          </div>
        </div>
      </div>
    </NeonBox>
  </Wrapper>
</BaseLayout>
