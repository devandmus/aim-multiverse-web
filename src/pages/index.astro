---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import NeonBox from "../components/atoms/NeonBox.astro";
import Gradients from "../components/skeleton/Gradients.astro";
import NeonButton from "../components/atoms/NeonButton.astro";
import Wrapper from "../components/skeleton/Wrapper.astro";
import ArticleCard from "../components/cards/ArticleCard.astro";
import { getLatestPost, getColorByCategory, getPostUrl } from "../lib/blog";
import { Image } from "astro:assets";
import andresMacbook from "../assets/images/andres-macbook.jpg";
import andresGuitarra from "../assets/images/andres-guitarra.jpeg";

// Obtener el artículo más reciente del blog
const latestPost = await getLatestPost();
---

<BaseLayout title="Andrés Ignacio Maldonado | Tech Lead • AI • Música">
  <Wrapper>
    <NeonBox class="max-w-6xl mx-auto">
      <!-- Hero section -->
      <div class="p-6 md:p-12">
        <Hero />
      </div>

      <!-- About section -->
      <NeonBox borderClass={{ mobile: [1, 0, 1, 0], desktop: [1, 0, 1, 0] }}>
        <div class="grid grid-cols-1 md:grid-cols-2">
          <div class="p-12">
            <div class="md:p-12 flex items-center justify-center h-full">
              <p
                class="text-lg md:text-xl lg:text-2xl text-gray-300 font-mono tracking-wide"
              >
                Software Engineer, consultor en Gen AI y automación, creador de
                contenldo y músico profesional. Creo en la tecnologia como motor
                creativo y en el arte como fuerza.
              </p>
            </div>
          </div>
          <NeonBox
            class=""
            borderClass={{ mobile: [1, 0, 0, 0], desktop: [0, 0, 0, 1] }}
          >
            <div>
              <h2
                class="text-3xl font-bold mb-4 font-mono absolute top-6 left-15 z-10"
              >
                ABOUT
              </h2>
              <Gradients ltrbtu={false} />
              <figure>
                <Image
                  src={andresMacbook}
                  alt="Andrés Ignacio Maldonado"
                  width={800}
                  height={800}
                  class="rounded-lg"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
            </div>
          </NeonBox>
        </div>
      </NeonBox>

      <!-- Music section -->
      <div>
        <div class="pt-12 pb-6 px-6 md:px-12 md:pb-12">
          <h2 class="text-3xl font-bold font-mono pb-6">CREATIVIDAD</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <div class="">
              <div>
                <NeonBox
                  class="rounded-lg"
                  borderClass={{ mobile: [1, 1, 1, 1], desktop: [0, 1, 1, 0] }}
                >
                  <figure class="font-0">
                    <Image
                      src={andresGuitarra}
                      alt="Andrés Ignacio Maldonado"
                      width={1200}
                      height={800}
                      class="font-0 rounded-tr-lg rounded-tl-lg"
                      loading="lazy"
                      decoding="async"
                    />
                  </figure>
                  <div class="px-4 py-6">
                    <NeonButton
                      label="@devandmus - RRSS"
                      href="/music"
                      color="cyan"
                      class="mb-4"
                    />
                    <NeonButton
                      label="Guitar Licks - TikTok"
                      href="/music"
                      color="pink"
                      class="mb-4"
                    />
                    <NeonButton
                      label="One Lick a Day - YouTube"
                      href="/music"
                      color="purple"
                    />
                  </div>
                </NeonBox>
              </div>
            </div>

            <div>
              <div class="pb-6">
                <NeonBox
                  transitionName="blog-page"
                  class="rounded-xl w-full"
                  contentClass="p-6"
                >
                  <a
                    href="/blog"
                    data-astro-prefetch
                    class="relative blog-button text-neon-cyan font-bold"
                  >
                    <div
                      class="text-neon-cyan font-bold text-2xl flex items-center justify-center h-full w-full h-full"
                    >
                      Blog
                    </div>
                  </a>
                </NeonBox>
              </div>

              {
                latestPost && (
                  <ArticleCard
                    title={latestPost.data.title}
                    id={latestPost.slug}
                    titleSize="text-2xl md:text-3xl"
                    tags={latestPost.data.tags || []}
                    color={getColorByCategory(latestPost.data.category || "")}
                    readTime={
                      latestPost.data.readingTime ||
                      `${Math.ceil(Math.random() * 15 + 5)} min`
                    }
                    slug={getPostUrl(latestPost.slug)}
                    category={latestPost.data.category || ""}
                  />
                )
              }
            </div>
          </div>
        </div>
      </div>
    </NeonBox>
  </Wrapper>
</BaseLayout>
